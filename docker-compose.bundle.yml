# gsuid_core Docker Compose 配置
# 部署方式: 全量模式

services:
  gsuid_core:
    image: docker.cnb.cool/gscore-mirror/gsuid_core_docker:latest
    container_name: gsuid_core

    ports:
      - "${PORT:-8765}:8765"

    volumes:
      - ${DATA_PATH:-/opt/gscore_data}:/gsuid_core/data
      - ${PLUGIN_PATH:-/opt/gscore_plugins}:/gsuid_core/gsuid_core/plugins
      - venv-data:/venv

    restart: always
    extra_hosts:
      - "host.docker.internal:host-gateway"

    environment:
      - PYTHONUNBUFFERED=1
      - http_proxy=${GSCORE_HTTP_PROXY:-}
      - https_proxy=${GSCORE_HTTPS_PROXY:-}
      - no_proxy=${GSCORE_NO_PROXY:-localhost,127.0.0.1,.local,cnb.cool,mirrors.aliyun.com,pypi.tuna.tsinghua.edu.cn,mirrors.volces.com}

volumes:
  venv-data:
