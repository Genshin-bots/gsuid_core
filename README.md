# âš™ï¸[GenshinUID](https://github.com/KimigaiiWuyi/GenshinUID) Core 0.7.1

[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![Imports: isort](https://img.shields.io/badge/%20imports-isort-%231674b1?&labelColor=ef8336)](https://pycqa.github.io/isort/)
[![Lint: flake8](https://img.shields.io/badge/lint-flake8-&labelColor=4C9C39)](https://flake8.pycqa.org/)
[![pre-commit.ci status](https://results.pre-commit.ci/badge/github/Genshin-bots/gsuid-core/master.svg)](https://results.pre-commit.ci/latest/github/Genshin-bots/gsuid-core/master)

[KimigaiiWuyi/GenshinUID](https://github.com/KimigaiiWuyi/GenshinUID) çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¹³å°æ— å…³ï¼Œæ”¯æŒ HTTP/WS å½¢å¼è°ƒç”¨ï¼Œä¾¿äºç§»æ¤åˆ°å…¶ä»–å¹³å°ä»¥åŠæ¡†æ¶ã€‚

**ğŸ’–ä¸€å¥—ä¸šåŠ¡é€»è¾‘ï¼Œå¤šä¸ªå¹³å°æ”¯æŒï¼**

**ğŸ‰ [è¯¦ç»†æ–‡æ¡£](https://docs.sayu-bot.com)** ( [å¿«é€Ÿå¼€å§‹(å®‰è£…)](https://docs.sayu-bot.com/Started/InstallCore.html) | [é“¾æ¥Bot](https://docs.sayu-bot.com/LinkBots/AdapterList.html) | [æ’ä»¶å¸‚åœº](https://docs.sayu-bot.com/InstallPlugins/PluginsList.html) )

## ä¼˜ç‚¹&ç‰¹è‰²

- ğŸ”€ **å¼‚æ­¥ä¼˜å…ˆ**ï¼šå¼‚æ­¥å¤„ç†~~å¤§é‡~~æ¶ˆæ¯æµï¼Œä¸ä¼šé˜»å¡ä»»åŠ¡è¿è¡Œ
- ğŸ”§ **æ˜“äºå¼€å‘**ï¼šå³ä½¿å®Œå…¨æ²¡æœ‰æ¥è§¦è¿‡Pythonï¼Œä¹Ÿèƒ½åœ¨ä¸€å°æ—¶å†…è¿…é€Ÿä¸Šæ‰‹ ğŸ‘‰ [æ’ä»¶ç¼–å†™æŒ‡å—](https://docs.sayu-bot.com/CodePlugins/CookBook.html)
- â™» **çƒ­é‡è½½**ï¼šä¿®æ”¹æ’ä»¶é…ç½®&å®‰è£…æ’ä»¶&æ›´æ–°æ’ä»¶ï¼Œæ— éœ€é‡å¯ä¹Ÿèƒ½ç›´æ¥åº”ç”¨
- **ğŸŒ [ç½‘é¡µæ§åˆ¶å°](https://docs.sayu-bot.com/Advance/WebConsole.html)**ï¼šé›†æˆç½‘é¡µæ§åˆ¶å°ï¼Œå¯ä»¥é€šè¿‡WEBç›´æ¥æ“ä½œ**æ’ä»¶æ•°æ®åº“/é…ç½®æ–‡ä»¶/æ£€ç´¢æ—¥å¿—/æƒé™æ§åˆ¶/æ•°æ®ç»Ÿè®¡/æ‰¹é‡å‘é€** ç­‰è¶…å¤šæ“ä½œ
- ğŸ“„ **é«˜åº¦ç»Ÿä¸€**ï¼šç»Ÿä¸€**æ‰€æœ‰æ’ä»¶**çš„[æ’ä»¶å‰ç¼€](https://docs.sayu-bot.com/CodePlugins/PluginsPrefix.html)/[é…ç½®ç®¡ç†](https://docs.sayu-bot.com/CodePlugins/PluginsConfig.html)/[å¸®åŠ©å›¾ç”Ÿæˆ](https://docs.sayu-bot.com/CodePlugins/PluginsHelp.html)/æƒé™æ§åˆ¶/[æ•°æ®åº“å†™å…¥](https://docs.sayu-bot.com/CodePlugins/PluginsDataBase.html)/[è®¢é˜…æ¶ˆæ¯](https://docs.sayu-bot.com/CodePlugins/Subscribe.html)ï¼Œæ‰€æœ‰æ’ä»¶ç¼–å†™å¸¸è§æ–¹æ³•ä¸€åº”ä¿±å…¨ï¼Œæ’ä»¶ä½œè€…å¯é€šè¿‡ç®€å•çš„**ç»§æ‰¿é‡å†™**å®ç°**é«˜åº¦ç»Ÿä¸€**çš„é€»è¾‘
- ğŸ’» **å¤šå…ƒé€‚é…**ï¼šå€ŸåŠ©ä¸Šæ¸¸Bot (NoneBot2 / Koishi / YunzaiBot) é€‚é…ï¼Œæ”¯æŒQQ/QQé¢‘é“/å¾®ä¿¡/Tg/Discord/é£ä¹¦/KOOK/DODO/OneBot v11(v12)ç­‰å¤šä¸ªå¹³å°ï¼Œåšåˆ°**ä¸€å¥—ä¸šåŠ¡é€»è¾‘ï¼Œå¤šä¸ªå¹³å°æ”¯æŒ**ï¼
- ğŸš€ **ä½œä¸ºæ’ä»¶**ï¼šè¯¥é¡¹ç›®**ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨**ï¼Œä½œä¸º**ä¸Šæ¸¸Bot (NoneBot2 / Koishi / YunzaiBot)** çš„æ’ä»¶ä½¿ç”¨ï¼Œæ— éœ€è¿ç§»åŸæœ¬Botï¼Œä¿ç•™ä¹‹å‰å…¨éƒ¨çš„åŠŸèƒ½ï¼Œä¾¿äºå……åˆ†æ‰©å±•
- ğŸ›  **å†…ç½®å‘½ä»¤**ï¼šå€ŸåŠ©å†…ç½®å‘½ä»¤ï¼Œè½»æ¾å®Œæˆ**é‡å¯/çŠ¶æ€/å®‰è£…æ’ä»¶/æ›´æ–°æ’ä»¶/æ›´æ–°ä¾èµ–**ç­‰æ“ä½œ
- ğŸ“ **å¸®åŠ©ç³»ç»Ÿ**ï¼šé€šè¿‡ç»Ÿä¸€é€‚é…ï¼Œå¯æŒ‰ç…§ä¸åŒ**æƒé™è¾“å‡º**ä¸åŒå¸®åŠ©ï¼Œå¹¶æ”¯æŒæ’ä»¶çš„**äºŒçº§èœå•æ³¨å†Œ**è‡³ä¸»å¸®åŠ©ç›®å½•ï¼Œå¹¶æ”¯æŒåœ¨å¸®åŠ©ç•Œé¢ä½¿ç”¨ä¸åŒçš„**è‡ªå®šä¹‰å‰ç¼€**

<details><summary>ä¸»èœå•å¸®åŠ©ç¤ºä¾‹</summary><p>
<a><img src="https://s2.loli.net/2025/02/07/glxaJyS6325zvbG.jpg"></a>
</p></details>

## æ„Ÿè°¢

- æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”
- [çˆ±å‘ç”µ](https://afdian.com/a/KimigaiiWuyi)
- [GPL-3.0 License](https://github.com/Genshin-bots/gsuid_core/blob/master/LICENSE) Â©[@KimigaiiWuyi](https://github.com/KimigaiiWuyi)

---

> [!IMPORTANT]
>
> ä»¥ä¸‹å†…å®¹æœªç»éªŒè¯ã€‚

## Dockeréƒ¨ç½²Coreï¼ˆå¯é€‰ï¼‰

`è¯·å…ˆå®‰è£…å¥½Dockerä¸Docker Compose`

1. git clone gsuid-coreæœ¬ä½“

```shell
git clone https://github.com/Genshin-bots/gsuid_core.git --depth=1 --single-branch
```

2. å®‰è£…æ‰€éœ€æ’ä»¶ï¼ˆå¯é€‰ï¼‰

```shell
# cdè¿›å…¥æ’ä»¶æ–‡ä»¶å¤¹å†…
cd plugins
# å®‰è£…v4 GenshinUID
git clone -b v4 https://github.com/KimigaiiWuyi/GenshinUID.git --depth=1 --single-branch
```

3. Docker Compose å¯åŠ¨

> æ³¨æ„ï¼šæ ¹æ® docker ç‰ˆæœ¬åŠæ’ä»¶å®‰è£…æƒ…å†µï¼Œcomposer å‘½ä»¤å¯èƒ½ä¸º`docker-composer`æˆ–`docker composer`ï¼Œè‹¥ä¸‹é¢çš„è¯­å¥æ‰§è¡Œæç¤ºæŒ‡ä»¤å‡ºé”™ï¼Œè¯·æ¢ä¸€ä¸ªè¯­å¥å°è¯•ï¼ˆè‹¥ä¸¤ä¸ªè¯­å¥éƒ½æç¤ºæŒ‡ä»¤å‡ºé”™ï¼Œåˆ™æ˜¯`Docker Composer`æ²¡æœ‰å®‰è£…

```shell
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼ˆæ­¤ç›®å½•ä¸‹åŒ…å« Dockerfile å’Œ docker-compose.yaml æ–‡ä»¶ï¼‰

# åˆæ¬¡å®‰è£…ï¼Œéœ€è¦ç¼–è¯‘ã€å®‰è£…ä¾èµ–ï¼Œéœ€æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š
docker-compose up -d --build

# ä¹‹åçš„éƒ¨ç½²é…ç½®ï¼Œä»…ä¿®æ”¹ docker-compose.yaml æ–‡ä»¶ï¼Œéœ€æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š
# å…ˆåœæ­¢ç›¸å…³å®¹å™¨
docker-compose down
# å†æŒ‰ç…§æ–°çš„é…ç½®éƒ¨ç½²æ–°çš„å®¹å™¨
docker-compose up -d
```

4. Docker Compose é…ç½®æ–‡ä»¶è¯´æ˜
```yaml
services:
  gsuid-core:
    build:
      context: .
    container_name: gsuidcore # ç”Ÿæˆçš„å®¹å™¨åç§°ï¼ˆè‹¥åç§°è¢«å ç”¨åˆ™ä¼šå˜ä¸ºéšæœºåç§°ï¼‰
    restart: unless-stopped
    environment:
      - TZ=Asia/Shanghai # æ—¶åŒºè®¾ç½®
    ports:
      - 18765:8765 # ç«¯å£æ˜ å°„ï¼šåŸæ’ä»¶çš„ 8765 å¯¹åº”å®¹å™¨å¤–éƒ¨çš„ 18765 ç«¯å£
    volumes:
    # ä»…æ˜ å°„éœ€è¦å¤–éƒ¨è®¿é—®çš„æ–‡ä»¶å¤¹ï¼Œå¦‚ dataã€plugins æ–‡ä»¶å¤¹
	# ä»¥ä¸‹ä¾‹å­ï¼šå°†å®¹å™¨å†… core ç¨‹åºçš„ dataã€plugins æ–‡ä»¶å¤¹ï¼Œæ˜ å°„åˆ° /opt/gscore_data å’Œ /opt/gscore_plugins ä¸­
      - /opt/gscore_data:/app/gsuid_core/data
      - /opt/gscore_plugins:/app/gsuid_core/plugins
```
5. å®¹å™¨éƒ¨ç½²çš„ç›¸å…³ä½¿ç”¨è¯´æ˜
- å¦‚éœ€è®¿é—®å®¹å™¨éƒ¨ç½²çš„ core çš„å…¶ä»–è·¯å¾„ï¼ˆä¸Šé¢ yaml æ–‡ä»¶ä¸­æ²¡æœ‰æ˜ å°„çš„æ–‡ä»¶æˆ–è·¯å¾„ï¼‰åˆ™éœ€è¦é€šè¿‡`docker exec -it <å®¹å™¨id> bash`è¿›å…¥ï¼Œè¿›å…¥åé»˜è®¤çš„`/app/gsuid_core`å¯¹åº”æ–‡æ¡£ä¸­çš„ core æ ¹ç›®å½•`gsuid_core`

- é»˜è®¤ core è¿è¡Œåœ¨`localhost:8765`ç«¯å£ä¸Šï¼ŒDocker éƒ¨ç½²åæ— æ³•è¿æ¥

  å¿…é¡»ä¿®æ”¹`config.json`æ–‡ä»¶ä¸­çš„`HOST`é…ç½®ï¼Œå‚è€ƒ [https://docs.sayu-bot.com/Started/CoreConfig.html](https://docs.sayu-bot.com/Started/CoreConfig.html)

  ï¼ˆä»¥ä¸Šé¢çš„ yaml æ–‡ä»¶ä¸ºä¾‹ï¼Œé…ç½®æ–‡ä»¶åœ¨æ–‡æ¡£ä¸­çš„è·¯å¾„ä¸º`gsuid_core/data`ï¼Œåˆ™å¯¹åº”åœ¨å®¹å™¨å¤–éƒ¨çš„åœ°å€ä¸º`/opt/gscore_data/config.json`ï¼Œéœ€å°†å…¶ä¸­çš„`port`é…ç½®ä¿®æ”¹ä¸º`0.0.0.0:8765`

  ç„¶åæ‰§è¡Œ`docker restart <å®¹å™¨id>`é‡å¯å®¹å™¨


- å…³äºç«¯å£é…ç½®ï¼Œç”±äº docker å®¹å™¨æœ¬èº«ä¼šå¯¹ç«¯å£åšè½¬å‘ï¼ˆå¯¹åº” yaml æ–‡ä»¶ä¸­çš„`port`éƒ¨åˆ†ï¼Œå› æ­¤å»ºè®®ä½¿ç”¨ docker compose çš„ç›¸å…³é…ç½®æˆ– docker æŒ‡ä»¤æ¥ä¿®æ”¹ç«¯å£ï¼Œè€Œä¸ç”¨ core æœ¬èº«çš„é…ç½®æ¥ä¿®æ”¹

	åŒæ—¶æ¯æ¬¡ docker ä¿®æ”¹ç«¯å£åéƒ½éœ€è¦å…ˆåˆ é™¤å½“å‰å®¹å™¨é‡æ–°æ‰§è¡Œ`docker compose up -d`æŒ‡ä»¤é‡æ–°éƒ¨ç½²

- å¦‚éœ€å¢åŠ æ’ä»¶ï¼Œåˆ™éœ€è¦è¿›å…¥å®¹å™¨é¡¹ç›®æ ¹ç›®å½•ï¼ŒæŒ‰ç…§å®˜æ–¹æ•™ç¨‹ä½¿ç”¨å‘½ä»¤å®‰è£…æˆ–æ‰‹åŠ¨å®‰è£…

- å¦‚æœBotï¼ˆä¾‹å¦‚ NoneBot2ã€HoshinoBotï¼‰ä¹Ÿæ˜¯Dockeréƒ¨ç½²çš„ï¼ŒCoreæˆ–å…¶æ’ä»¶æ›´æ–°åï¼Œå¯èƒ½éœ€è¦å°†Coreå’ŒBotçš„å®¹å™¨éƒ½é‡å¯æ‰ç”Ÿæ•ˆ
